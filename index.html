<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Check List | Mass Effect 2</title>
    <link rel="stylesheet" href="./sources/bootstrap.min.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css"
      integrity="sha256-h20CPZ0QyXlBuAw7A+KluUYx/3pK+c7lYEpqLTlxjYQ="
      crossorigin="anonymous"
    />
  </head>
  <body class="bg-primary">
    <div id="app">
      <div class="container my-5">
        <div class="col-12 col-md-8 mx-auto">
          <header class="text-center">
            <h1 class="text-white">Mass Effect 2</h1>
            <p>Check list</p>
          </header>
          <!-- MAIN MISSIONS -->
          <section id="main-missions">
            <h3 class="text-white my-3">Misiones Principales</h3>
            <ul class="list-group">
              <div class="item" v-for="(mision, index) in missionsList.mains">
                <li
                  :class="[
                  'list-group-item', 
                  mision.status ? 'bg-success': 'bg-dark', 
                  mision.status ? 'text-primary':'text-white', 
                  'text-left',
                  'btn']"
                  v-on:click="changeStatusMain(index)"
                >
                  <i
                    :class="['far', 
                    mision.status?'fa-check-circle':'fa-circle',
                    'mr-2']"
                  ></i>
                  {{mision.title}}
                </li>
              </div>
            </ul>
          </section>
          <!-- SECONDARY MISSIONS -->
          <section id="secondary-missions">
            <h3 class="text-white my-3">Misiones Secundarias</h3>
            <ul class="list-group">
              <li 
              class="bg-dark text-white list-group-item mx-0 px-0"
              v-for="(mision, index) in missionsList.secondaries">
                <h5 class="text-white px-2 my-3">{{mision.title}}</h5>
                <ul class="list-group">
                  <li
                    :class="[
                    '', 
                    submision.status ? 'bg-success': 'bg-dark', 
                    submision.status ? 'text-primary':'text-white', 
                    'text-left',
                    'btn'
                    ]"
                    v-on:click="changeStatusSecondary(index, subindex)"
                    v-for="(submision, subindex) in missionsList.secondaries[index].missions"
                  >
                    <i
                      :class="[
                      'far', 
                      submision.status?'fa-check-circle':'fa-circle',
                      'mr-2'
                      ]"
                    ></i>
                    {{submision.title}}
                  </li>
                </ul>
              </li>
            </ul>
          </section>
          <footer class="my-3">
            <button class="btn btn-danger btn-block" v-on:click="resetList">Reset</button>
          </footer>
        </div>
      </div>
    </div>
    <!-- development version, includes helpful console warnings -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="./app.js"></script>
    <!-- <script src="./testFetch.js"></script> -->
  </body>
</html>
